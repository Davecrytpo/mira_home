{"ast":null,"code":"import{useState,useCallback}from\"react\";import{useNavigate}from\"react-router-dom\";import Header from\"../components/Header\";import\"./SignInPage.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignInPage=()=>{const navigate=useNavigate();const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const onSignIn=async e=>{e.preventDefault();setError(\"\");// Clear previous error messages\ntry{// Check if the user's email is verified\nconst response=await fetch(\"http://localhost:5000/api/check-email-verification\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,password})// Send email and password for verification check\n});const data=await response.json();if(response.ok){if(data.verified){alert(\"Welcome Onboard!\");// Navigate to the Property Details page upon successful sign-in\nnavigate(\"/property-details\");}else{setError(\"Please verify your email before signing in.\");}}else{setError(data.message);}}catch(err){setError(\"An error occurred. Please try again later.\");}};const onDontHaveAnClick=useCallback(()=>{navigate(\"/sign-up-page\");},[navigate]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in-page\",children:[/*#__PURE__*/_jsx(Header,{notifications:\"/notifications@2x.png\",avatar:\"/avatar@2x.png\",showLoginSection:false}),/*#__PURE__*/_jsx(\"main\",{className:\"login-sections1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-form-container1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-text1\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"sign-in\",children:\"Sign in\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form3\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form4\",onSubmit:onSignIn,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-fields1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"email-address1\",placeholder:\"Email address\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"img\",{className:\"iconaccount1\",alt:\"\",src:\"/iconaccount.svg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"password3\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"img\",{className:\"iconpassword2\",alt:\"\",src:\"/iconpassword.svg\"})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"search-flights-button1\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button1\",children:\"Sign in\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"frame-child\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dont-have-an-container\",onClick:onDontHaveAnClick,children:[/*#__PURE__*/_jsx(\"span\",{children:`Don’t have an account yet? `}),/*#__PURE__*/_jsx(\"span\",{className:\"sign-up\",children:\"Sign up\"})]})]})]})})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"footer-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"footer-content1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"localhost-inc-all1\",children:\"\\xA9 2023 Mira's Pathfinders, Inc. All Rights Reserved\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"legal-links\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"privacy-policy1\",children:\"Privacy Policy\"}),/*#__PURE__*/_jsx(\"div\",{className:\"terms-conditions1\",children:`Terms & Conditions`}),/*#__PURE__*/_jsx(\"div\",{className:\"contact-us1\",children:\"Contact us\"})]})]})})})]});};export default SignInPage;","map":{"version":3,"names":["useState","useCallback","useNavigate","Header","jsx","_jsx","jsxs","_jsxs","SignInPage","navigate","email","setEmail","password","setPassword","error","setError","onSignIn","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","verified","alert","message","err","onDontHaveAnClick","className","children","notifications","avatar","showLoginSection","onSubmit","type","placeholder","value","onChange","target","required","alt","src","onClick"],"sources":["C:/Users/David/Desktop/New project/src/pages/SignInPage.js"],"sourcesContent":["import { useState, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Header from \"../components/Header\";\r\nimport \"./SignInPage.css\";\r\n\r\nconst SignInPage = () => {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const onSignIn = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\"); // Clear previous error messages\r\n\r\n    try {\r\n      // Check if the user's email is verified\r\n      const response = await fetch(\"http://localhost:5000/api/check-email-verification\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ email, password }), // Send email and password for verification check\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        if (data.verified) {\r\n          alert(\"Welcome Onboard!\");\r\n          // Navigate to the Property Details page upon successful sign-in\r\n          navigate(\"/property-details\");\r\n        } else {\r\n          setError(\"Please verify your email before signing in.\");\r\n        }\r\n      } else {\r\n        setError(data.message);\r\n      }\r\n    } catch (err) {\r\n      setError(\"An error occurred. Please try again later.\");\r\n    }\r\n  };\r\n\r\n  const onDontHaveAnClick = useCallback(() => {\r\n    navigate(\"/sign-up-page\");\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <div className=\"sign-in-page\">\r\n      <Header\r\n        notifications=\"/notifications@2x.png\"\r\n        avatar=\"/avatar@2x.png\"\r\n        showLoginSection={false}\r\n      />\r\n      <main className=\"login-sections1\">\r\n        <div className=\"login-form-container1\">\r\n          <div className=\"form2\">\r\n            <div className=\"form-text1\">\r\n              <h2 className=\"sign-in\">Sign in</h2>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <div className=\"form3\">\r\n                <form className=\"form4\" onSubmit={onSignIn}>\r\n                  <div className=\"form-fields1\">\r\n                    <div className=\"email1\">\r\n                      <input\r\n                        type=\"email\"\r\n                        className=\"email-address1\"\r\n                        placeholder=\"Email address\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        required\r\n                      />\r\n                      <img\r\n                        className=\"iconaccount1\"\r\n                        alt=\"\"\r\n                        src=\"/iconaccount.svg\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"password2\">\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"password3\"\r\n                        placeholder=\"Password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        required\r\n                      />\r\n                      <img\r\n                        className=\"iconpassword2\"\r\n                        alt=\"\"\r\n                        src=\"/iconpassword.svg\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  {error && <div className=\"error-message\">{error}</div>}\r\n                  <div className=\"search-flights-button1\">\r\n                    <button type=\"submit\" className=\"button1\">\r\n                      Sign in\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n              <div className=\"frame-child\" />\r\n              <div\r\n                className=\"dont-have-an-container\"\r\n                onClick={onDontHaveAnClick}\r\n              >\r\n                <span>{`Don’t have an account yet? `}</span>\r\n                <span className=\"sign-up\">Sign up</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <footer className=\"footer-container\">\r\n        <div className=\"footer-wrapper\">\r\n          <div className=\"footer-content1\">\r\n            <div className=\"localhost-inc-all1\">\r\n              © 2023 Mira's Pathfinders, Inc. All Rights Reserved\r\n            </div>\r\n            <div className=\"legal-links\">\r\n              <div className=\"privacy-policy1\">Privacy Policy</div>\r\n              <div className=\"terms-conditions1\">{`Terms & Conditions`}</div>\r\n              <div className=\"contact-us1\">Contact us</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInPage;\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAC7C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAgB,QAAQ,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC5BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBH,QAAQ,CAAC,EAAE,CAAC,CAAE;AAEd,GAAI,CACF;AACA,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oDAAoD,CAAE,CACjFC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEf,KAAK,CAAEE,QAAS,CAAC,CAAG;AAC7C,CAAC,CAAC,CAEF,KAAM,CAAAc,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClC,GAAIR,QAAQ,CAACS,EAAE,CAAE,CACf,GAAIF,IAAI,CAACG,QAAQ,CAAE,CACjBC,KAAK,CAAC,kBAAkB,CAAC,CACzB;AACArB,QAAQ,CAAC,mBAAmB,CAAC,CAC/B,CAAC,IAAM,CACLM,QAAQ,CAAC,6CAA6C,CAAC,CACzD,CACF,CAAC,IAAM,CACLA,QAAQ,CAACW,IAAI,CAACK,OAAO,CAAC,CACxB,CACF,CAAE,MAAOC,GAAG,CAAE,CACZjB,QAAQ,CAAC,4CAA4C,CAAC,CACxD,CACF,CAAC,CAED,KAAM,CAAAkB,iBAAiB,CAAGhC,WAAW,CAAC,IAAM,CAC1CQ,QAAQ,CAAC,eAAe,CAAC,CAC3B,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,mBACEF,KAAA,QAAK2B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B9B,IAAA,CAACF,MAAM,EACLiC,aAAa,CAAC,uBAAuB,CACrCC,MAAM,CAAC,gBAAgB,CACvBC,gBAAgB,CAAE,KAAM,CACzB,CAAC,cACFjC,IAAA,SAAM6B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC/B9B,IAAA,QAAK6B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpC5B,KAAA,QAAK2B,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpB9B,IAAA,QAAK6B,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzB9B,IAAA,OAAI6B,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,CACjC,CAAC,cACN5B,KAAA,QAAK2B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9B,IAAA,QAAK6B,SAAS,CAAC,OAAO,CAAAC,QAAA,cACpB5B,KAAA,SAAM2B,SAAS,CAAC,OAAO,CAACK,QAAQ,CAAEvB,QAAS,CAAAmB,QAAA,eACzC5B,KAAA,QAAK2B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B5B,KAAA,QAAK2B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB9B,IAAA,UACEmC,IAAI,CAAC,OAAO,CACZN,SAAS,CAAC,gBAAgB,CAC1BO,WAAW,CAAC,eAAe,CAC3BC,KAAK,CAAEhC,KAAM,CACbiC,QAAQ,CAAG1B,CAAC,EAAKN,QAAQ,CAACM,CAAC,CAAC2B,MAAM,CAACF,KAAK,CAAE,CAC1CG,QAAQ,MACT,CAAC,cACFxC,IAAA,QACE6B,SAAS,CAAC,cAAc,CACxBY,GAAG,CAAC,EAAE,CACNC,GAAG,CAAC,kBAAkB,CACvB,CAAC,EACC,CAAC,cACNxC,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9B,IAAA,UACEmC,IAAI,CAAC,UAAU,CACfN,SAAS,CAAC,WAAW,CACrBO,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAE9B,QAAS,CAChB+B,QAAQ,CAAG1B,CAAC,EAAKJ,WAAW,CAACI,CAAC,CAAC2B,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MACT,CAAC,cACFxC,IAAA,QACE6B,SAAS,CAAC,eAAe,CACzBY,GAAG,CAAC,EAAE,CACNC,GAAG,CAAC,mBAAmB,CACxB,CAAC,EACC,CAAC,EACH,CAAC,CACLjC,KAAK,eAAIT,IAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAErB,KAAK,CAAM,CAAC,cACtDT,IAAA,QAAK6B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrC9B,IAAA,WAAQmC,IAAI,CAAC,QAAQ,CAACN,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,SAE1C,CAAQ,CAAC,CACN,CAAC,EACF,CAAC,CACJ,CAAC,cACN9B,IAAA,QAAK6B,SAAS,CAAC,aAAa,CAAE,CAAC,cAC/B3B,KAAA,QACE2B,SAAS,CAAC,wBAAwB,CAClCc,OAAO,CAAEf,iBAAkB,CAAAE,QAAA,eAE3B9B,IAAA,SAAA8B,QAAA,CAAO,6BAA6B,CAAO,CAAC,cAC5C9B,IAAA,SAAM6B,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,EACrC,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CACF,CAAC,cACP9B,IAAA,WAAQ6B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAClC9B,IAAA,QAAK6B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B5B,KAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B9B,IAAA,QAAK6B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,wDAEpC,CAAK,CAAC,cACN5B,KAAA,QAAK2B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9B,IAAA,QAAK6B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,gBAAc,CAAK,CAAC,cACrD9B,IAAA,QAAK6B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAE,oBAAoB,CAAM,CAAC,cAC/D9B,IAAA,QAAK6B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,EAC1C,CAAC,EACH,CAAC,CACH,CAAC,CACA,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}